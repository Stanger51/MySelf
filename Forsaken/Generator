local UserInputService = game:GetService("UserInputService")
local debounce = false  -- cooldown flag
local cooldownTime = 1  -- seconds

local function fireGenerators()
	pcall(function()
		local path = game.Workspace:FindFirstChild("Map")
			and game.Workspace.Map:FindFirstChild("Ingame")
			and game.Workspace.Map.Ingame:FindFirstChild("Map")

		if not path then return end

		for _, v in pairs(path:GetChildren()) do
			if v.Name == "Generator" and v:FindFirstChild("Remotes") and v.Remotes:FindFirstChild("RE") then
				v.Remotes.RE:FireServer()
			end
		end
	end)
end

UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if input.KeyCode == Enum.KeyCode.J and not debounce then
		debounce = true
		fireGenerators()
		task.delay(cooldownTime, function()
			debounce = false
		end)
	end
end)
